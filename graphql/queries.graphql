query GetProductBySlug($slug: String!) {
	product(where: { slug: $slug }) {
		name
		price
		id
		images {
			id
			url
		}
		description
	}
	reviews {
		id
		name
		content
		rating
	}
}

query GetProducts {
	products {
		id
		name
		price
		slug
		images {
			url
		}
		description
		reviews {
			rating
		}
	}
}


query GetAccountByEmail($email: String!) {
	account(where: { email: $email }, stage: DRAFT) {
		id
		email
		password
	}
}

query GetProductsToPayment($productsId: [ID!]!) {
	products(where: { id_in: $productsId }) {
		id
		name
		price
		images {
			id
			url
		}
	}
}

mutation CreateOrder(
	$email: String!
	$totalOrder: Int!
	$stripeCheckoutId: String!
	$orderItems: [OrderItemCreateInput!]!
) {
	createOrder(
		data: {
			email: $email
			total: $totalOrder
			stripeCheckoutId: $stripeCheckoutId
			orderItems: { create: $orderItems }
			currentStatus: NEW
		}
	) {
		id
	}
}
